<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    //闭包方法
    // function add(a) {
    //   return function(b){
    //     return function(c){
    //       return a+b+c
    //     }
    //   }
    // }
    // console.log(add(2)(4)(3))

    // function curry(fn) {
    //   //arguments 参数的统称
    //   //从下标为一的位置开始切割,它前面自动有个function
    //   var args = Array.prototype.slice.call(arguments,1)
    //   return function() {
    //     var newArgs = args.concat(Array.prototype.slice.call(arguments))
    //     return fn.apply(this, newArgs)
    //   }
    // }

    function curry(fn, args) {
      // console.log(fn)
      console.log(args)
      var length = fn.length
      //console.log(length)
      var args = args || []
      console.log(args)
      return function () {
        var newArgs = args.concat(Array.prototype.slice.call(arguments))
        console.log(args)
        console.log(newArgs)
        if (newArgs.length < length) {
          //console.log(newArgs)
          return curry.call(this, fn, newArgs)
        } else {
          //console.log(newArgs)
          return fn.apply(this, newArgs)
        }
      }
    }
    function multiFn(a, b, c) {
      return a * b * c
    }
    var mulit = curry(multiFn)
    console.log(mulit(2)(3)(4))

    // function mulit() {
    //   var args = Array.prototype.slice.call(arguments)
    //   var fn = function() {
    //     var newArgs = args.concat(Array.prototype.slice.call(arguments))
    //     return mulit.apply(this, newArgs)
    //   }
    //   fn.toString = function() {
    //     //reduce 一次遍历两条
    //     return args.reduce(function(a,b) {
    //       return a * b
    //     })
    //   }
    //   return fn
    // }
    // console.log(mulit(2)(3)(4))

    // function test(a, b, c, d) {
    //   var arg = Array.prototype.slice.call(arguments);
    //   alert(arg);
    // }
    // test("a", "b", "c", "d"); //b,c,d


  </script>
</body>

</html>