<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>

  <script>
    window.value = 3;
    var foo = {
      value:1
    };
    function bar() {
      // 定义了一个函数
      // 生成不算， this不算
      //this 运行时决定
      console.log(this.value);
    }
    bar();  //普通函数 主动
    bar.call(foo);   //指定this指向foo   相亲
    //童养媳
    //指定函数this绑定为foo, 产生一个新函数，之后再运行的时候，内部的this就是被绑定的对象
    var bindFoo = bar.bind(foo);
    setTimeout( function() {
      bindFoo();
    },2000)
    // document.body.addEventListener('click'. function () {
    //   alert(this.value);
    // })
    // 事件函数的内部 this 会是事件发生的对象
    //事件时异步的   bind很合适
    var bindWindowOnload = bar.bind(foo)
    window.onload = bindWindowOnload();
    
  </script>
  
</body>
</html>